<Page
    x:Class="Subsonic8.Phone.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="24,17,24,28">
            <TextBlock Text="SUBSONIC8" Style="{StaticResource BodyTextStyle}" />
            <TextBlock Text="Settings" Style="{StaticResource HeaderTextStyle}" />
        </StackPanel>

        <!-- Settings Content -->
        <ScrollViewer Grid.Row="1" Margin="24,0">
            <StackPanel>
                <!-- Primary URL -->
                <TextBlock Text="Primary URL" Style="{StaticResource SettingsTextStyle}" />
                <TextBox x:Name="PrimaryUrlTextBox" 
                         PlaceholderText="e.g. http://192.168.1.100:4040"
                         Style="{StaticResource SettingsTextBoxStyle}" />

                <!-- Secondary URL -->
                <TextBlock Text="Secondary URL" Style="{StaticResource SettingsTextStyle}" />
                <TextBox x:Name="SecondaryUrlTextBox" 
                         PlaceholderText="e.g. https://music.example.com"
                         Style="{StaticResource SettingsTextBoxStyle}" />

                <!-- URL Validation Message -->
                <TextBlock x:Name="UrlValidationMessage" 
                           Foreground="Red" 
                           Visibility="Collapsed"
                           Text="At least one URL is required"
                           Margin="0,0,0,8" />

                <!-- Username -->
                <TextBlock Text="Username" Style="{StaticResource SettingsTextStyle}" />
                <TextBox x:Name="UsernameTextBox" 
                         PlaceholderText="Enter username"
                         Style="{StaticResource SettingsTextBoxStyle}" />

                <!-- Password -->
                <TextBlock Text="Password" Style="{StaticResource SettingsTextStyle}" />
                <PasswordBox x:Name="PasswordBox" 
                             PlaceholderText="Enter password"
                             Margin="0,0,0,8" />

                <!-- Compatible Mode -->
                <ToggleSwitch x:Name="CompatibleModeToggle"
                              Header="Compatible Mode"
                              OffContent="Off"
                              OnContent="On"
                              Margin="0,12,0,0" />
                <TextBlock Text="Transcode lossless audio to MP3 320kbps for better compatibility"
                           Style="{StaticResource BodyTextStyle}"
                           TextWrapping="Wrap"
                           Margin="0,0,0,24" />

                <!-- Save Button -->
                <Button Content="Save Settings"
                        Style="{StaticResource PlayButtonStyle}"
                        HorizontalAlignment="Stretch"
                        Click="OnSaveClick"
                        Margin="0,12,0,0" />

                <!-- Test Connection Button -->
                <Button Content="Test Connection"
                        HorizontalAlignment="Stretch"
                        Click="OnTestConnectionClick"
                        Margin="0,12,0,24" />

                <!-- Connection Status -->
                <TextBlock x:Name="StatusText"
                           Text=""
                           Style="{StaticResource BodyTextStyle}"
                           TextWrapping="Wrap"
                           Margin="0,0,0,24" />
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
